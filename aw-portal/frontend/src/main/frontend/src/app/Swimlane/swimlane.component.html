<div class="container-fluid">
	<div class="btn-group btn-group-sm navbar-left" role="group" aria-label="swimlaneOptions">
		<button type="button" class="btn btn-default"
			[disabled]="swimlane.order == 0" (click)="moveLeft()">
			<span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
		</button>
		<button type="button" class="btn btn-default"
			[disabled]="swimlane.order == board.swimlanes.length-1" (click)="moveRight()">
			<span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
		</button>
	</div>
		
	<div class="btn-group btn-group-sm navbar-right" role="group" aria-label="swimlaneOptions">
		<button class="btn btn-default" (click)="swimlaneModal.show()">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
		</button>
		<button class="btn btn-danger" (click)="deleteSwimlaneModal.show()">
			<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
		</button>
	</div>
</div>
	
<app-modal #swimlaneModal>
	<div class="app-modal-header">
		<button type="button" class="close" (click)="swimlaneModal.hide()" aria-label="Close">
      <span aria-hidden="true">&times;</span>
		</button>
		<h4 class="modal-title" id="myModalLabel">Edit Swimlane "{{swimlane.name}}"</h4>
	</div>
	<div class="app-modal-body">
		<div class="form-horizontal">
			<div class="form-group">
				<label class="col-sm-2 control-label">Name</label>
				<div class="col-sm-10">
					<input [(ngModel)]="updateName" type="text" class="form-control" placeholder="{{swimlane.name}}">
				</div>
			</div>
		</div>
	</div>
	<div class="app-modal-footer">
		<button class="btn btn-success" (click)="updateSwimlane(updateName); swimlaneModal.hide()">Submit</button>
		<button type="button" class="btn btn-default" (click)="swimlaneModal.hide()">Close</button>
	</div>
</app-modal>

	<!-- <div class="modal fade"
		data-ng-attr-id="{{ 'swimLane' + swimLane.id }}"
		tabindex="-1" role="dialog" aria-labeledby="myModallabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-body">
					{{swimLane.name}} <input data-ng-model="updatedName" type="text" /><br>
					<button class="button button-primary" data-dismiss="modal"
						data-ng-click="editSwimLane(updatedName)">Save</button>
				</div>
			</div>
		</div>
	</div> -->

	
<table class="table">
	<tr><th><h4>{{swimlane.name}}</h4></th></tr>
	<tr *ngFor="let story of swimlane.stories">
		<td><aw-story [story]="story" [swimlane]="swimlane" [board]="board"></aw-story></td>
	</tr>
</table>
	<!-- stories -->

	<!-- New Story button, with modal attachment -->
<button class="btn btn-default btn-block" (click)="newStoryModal.show()">
    Create New Story
</button><br>

<app-modal #newStoryModal>
	<div class="app-modal-header">
		<button type="button" class="close" (click)="newStoryModal.hide()" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
		<h4 class="modal-title" id="myModalLabel">New Story Details</h4>
	</div>
	<div class="app-modal-body" style="text-align:center">
		<input [(ngModel)]="newStory.title" type="text" placeholder="title"/> <br>
		<input [(ngModel)]="newStory.description" type="text" placeholder="description"/> <br>
		<input [(ngModel)]="newStory.points" id="points" type="number" class="form-control" min=1 max=10 style="width:20%; margin:auto" placeholder="points">
	</div>
	<div class="app-modal-footer">
		<button type="button" class="btn btn-default" (click)="createStory(newStory)" data-dismiss="modal">Create Story</button>
	</div>
</app-modal>

<app-modal #deleteSwimlaneModal>
		<div class="app-modal-header">
			<h4 class="modal-title" id="myModalLabel">
				Delete Swimlane "{{swimlane.name}}"
			</h4>
			<button type="button" class="close"  (click)="deleteSwimlaneModal.hide()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			
		</div>
		<div class="app-modal-body">
			<span>Are you sure that you wish to delete "{{swimlane.name}}"?</span>
		</div>
		<div class="app-modal-footer">
			  <button type="button" class="btn btn-danger" (click)="delete(swimlane); deleteSwimlaneModal.hide()">Delete</button>
			  <button type="button" class="btn btn-default" (click)="deleteSwimlaneModal.hide()">Close</button>
		</div>
	</app-modal>